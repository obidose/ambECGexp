/* minimal styles for stability */ 
:root{
  --bg:#0f172a; --panel:#111827; --ink:#e5e7eb; --muted:#94a3b8;
  --grid-weak:rgba(148,163,184,0.18); --grid-strong:rgba(148,163,184,0.45);
  --trace:#a5b4fc; --hr:#34d399; --hr-ov:#93c5fd; --accent:#60a5fa;
  --overlay-fill:rgba(17,24,39,0.9); --overlay-stroke:#223a73; --overlay-text:#e5e7eb;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--ink);font:14px system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
header{display:flex;flex-wrap:wrap;gap:6px 10px;align-items:center;padding:8px 16px;background:var(--panel);border-bottom:1px solid #1f2937;box-shadow:0 2px 4px rgba(0,0,0,0.2);min-height:44px}
label{display:flex;align-items:center;gap:4px;font-size:13px}
input[type="number"]{width:84px}
input,select{background:var(--panel);color:var(--ink);border:1px solid #334155;border-radius:4px;padding:3px 6px;font-size:13px}
input[type="file"]{background:var(--accent);color:white;border:1px solid var(--accent);border-radius:6px;padding:4px 8px;font-weight:500;cursor:pointer}
input[type="checkbox"]{margin:0;accent-color:var(--accent)}
input[type="range"]{margin:0}
.sep{color:var(--muted);margin:0 6px;font-size:16px}
.btn-group{display:flex;align-items:center;gap:2px;background:var(--bg);padding:2px;border-radius:6px;border:1px solid #334155}
.tool-btn{background:transparent;border:0;color:var(--muted);padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;cursor:pointer;transition:all .15s}
.tool-btn:hover{background:var(--panel);color:var(--ink)}
.tool-btn.active{background:var(--accent);color:white}
.lead-group{display:flex;gap:8px}
.theme-select{min-width:70px;font-size:12px}
.action-btn{background:var(--accent);border:0;color:white;padding:4px 10px;border-radius:4px;font-size:12px;font-weight:500;cursor:pointer;transition:all .15s}
.action-btn:hover{filter:brightness(1.1)}
.action-btn:active{transform:scale(0.96)}
.demo-btn{background:var(--muted);border:0;color:var(--bg);padding:4px 8px;border-radius:4px;font-size:14px;cursor:pointer;transition:all .15s;margin-left:4px}
.demo-btn:hover{background:var(--accent);color:white}
.demo-btn:active{transform:scale(0.96)}
.settings-btn{background:var(--bg);border:1px solid var(--muted);color:var(--muted);padding:3px 6px;border-radius:4px;font-size:12px;cursor:pointer;transition:all .15s;margin-left:2px}
.settings-btn:hover{background:var(--accent);color:white;border-color:var(--accent)}
.settings-btn:active{transform:scale(0.96)}
canvas{display:block;width:100%}
#ecg{height:68vh;background:var(--bg)}
#overview{height:90px;background:var(--panel);border-top:2px solid var(--accent);border-bottom:1px solid #1f2937;margin-top:6px}
.status{padding:8px 16px;color:var(--muted)}
.status.err{color:#fecaca}
.sp{flex:1}
#scrollWrap{padding:6px 16px;background:var(--panel);border-top:1px solid #1f2937}
#scroll{appearance:none;width:100%;height:6px;border-radius:3px;background:var(--muted);outline:none}
#scroll::-webkit-slider-thumb{appearance:none;width:14px;height:14px;border-radius:50%;background:transparent;border:0;cursor:pointer}
#scroll::-moz-range-thumb{width:14px;height:14px;border:none;border-radius:50%;background:transparent;cursor:pointer}
@media print{ header,#overview,.status,#scrollWrap{display:none!important} body{background:#fff;color:#000} #ecg{height:auto} }
.theme-light{
  --bg:#f8fafc;--panel:#fff;--ink:#0f172a;--muted:#475569;
  --grid-weak:rgba(148,163,184,0.2);--grid-strong:rgba(148,163,184,0.5);
  --trace:#2563eb;--hr:#059669;--hr-ov:#2563eb;--accent:#2563eb;
  --overlay-fill:rgba(255,255,255,0.9);--overlay-stroke:#cbd5e1;--overlay-text:#0f172a;
}
.theme-ocean{
  --bg:#0f172a;--panel:#0e1e3a;--ink:#e0f2fe;--muted:#93c5fd;
  --grid-weak:rgba(147,197,253,0.18);--grid-strong:rgba(147,197,253,0.45);
  --trace:#38bdf8;--hr:#4ade80;--hr-ov:#93c5fd;--accent:#38bdf8;
  --overlay-fill:rgba(15,23,42,0.9);--overlay-stroke:#1e40af;--overlay-text:#e0f2fe;
}
.theme-ecg{
  --bg:#fff;--panel:#fff;--ink:#0b0b0b;--muted:#4b5563;
  --grid-weak:rgba(255,0,0,0.1);--grid-strong:rgba(255,0,0,0.3);
  --trace:#000;--hr:#f43f5e;--hr-ov:#f43f5e;--accent:#f97316;
  --overlay-fill:rgba(255,255,255,0.92);--overlay-stroke:#111827;--overlay-text:#0b0b0b;
}
.theme-mint{
  --bg:#0f1e17;--panel:#16252d;--ink:#d1fae5;--muted:#6ee7b7;
  --grid-weak:rgba(110,231,183,0.18);--grid-strong:rgba(110,231,183,0.45);
  --trace:#34d399;--hr:#fbbf24;--hr-ov:#6ee7b7;--accent:#10b981;
  --overlay-fill:rgba(15,30,23,0.9);--overlay-stroke:#047857;--overlay-text:#d1fae5;
}
.theme-sunset{
  --bg:#1f1611;--panel:#2d1b16;--ink:#fed7aa;--muted:#fb923c;
  --grid-weak:rgba(251,146,60,0.18);--grid-strong:rgba(251,146,60,0.45);
  --trace:#f97316;--hr:#ef4444;--hr-ov:#fb923c;--accent:#ea580c;
  --overlay-fill:rgba(31,22,17,0.9);--overlay-stroke:#c2410c;--overlay-text:#fed7aa;
}
.theme-purple{
  --bg:#1e1b2e;--panel:#2a2438;--ink:#e9d5ff;--muted:#c084fc;
  --grid-weak:rgba(192,132,252,0.18);--grid-strong:rgba(192,132,252,0.45);
  --trace:#a855f7;--hr:#06d6a0;--hr-ov:#c084fc;--accent:#9333ea;
  --overlay-fill:rgba(30,27,46,0.9);--overlay-stroke:#7c3aed;--overlay-text:#e9d5ff;
}
body.theme-ecg input,body.theme-ecg select{background:#fff;border:1px solid #cbd5e1;color:#0b0b0b}
body.theme-mint input,body.theme-mint select{background:#16252d;border:1px solid #047857;color:#d1fae5}
body.theme-sunset input,body.theme-sunset select{background:#2d1b16;border:1px solid #c2410c;color:#fed7aa}
body.theme-purple input,body.theme-purple select{background:#2a2438;border:1px solid #7c3aed;color:#e9d5ff}
